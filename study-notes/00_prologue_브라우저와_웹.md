# 브라우저와 웹

## 웹의 역사

초기 서버는 디스크에서 파일을 읽어주는 것 외 별다른 기능이 없는 서버의 물리적 구조를 그대로 반영하는 수준 => HTML은 서버에서 동적으로 조합되어 요청이 있을 때 브라우저로 전송(SSR)

### 웹의 핵심 요소

- 하이퍼링크로 연결된 정보 네트워크
- 사용자는 브라우저로 웹을 탐색
- 정보는 HTTP 네트워크 프로토콜로 요청되며 HTML 문서 형식으로 구조화
- 문서는 콘텐츠가 아닌 URL로 식별되며 동적으로 생성될 수 있다.
- 웹페이지는 이미지, CSS, JS 등 다양한 형식의 서브 리소스에 링크할 수 있다.
- 모든 구성 요소가 개방적이고 표준화되어 있으며 자유롭게 사용하거나 재사용할 수 있다.

**웹은 원래 부터 인간이 어떻게 연결하고 상호작용하는지에 대한 본질을 반영하도록 설계**

> [!NOTE] 팀 버너스리의 웹 설계 철학
>
> **1989년 CERN 제안서에서의 관찰**
>
> - "CERN은 수천 명의 창의적인 사람들이 공통 목표를 향해 일하는 훌륭한 조직"
> - "조직의 실제 관찰된 작업 구조는 시간에 따라 상호연결이 진화하는 다중 연결된 '웹'"
>
> **웹의 사회적 목적**
>
> - "웹은 기술적 창조물보다는 사회적 창조물입니다. 저는 사회적 효과를 위해 - 사람들이 함께 일할 수 있도록 돕기 위해 - 설계했습니다"
> - "웹의 원래 아이디어는 정보 공유를 통해 소통할 수 있는 협업 공간이어야 한다는 것이었습니다"
>
> **보편적 접근성 철학**
>
> - 2012년 런던 올림픽: "This is for everyone"
> - "지식은 사적 소유로 제한되어서는 안 됩니다"

## 실제 브라우저 코드 베이스

- 브라우저가 다른 코드베이스와 다른 점은 **긴급성**
- 문제가 생기면 바로 처리해야 한다.
- 처음부터 다시 만들기보다 고치고 개선해야 한다.

### 일반 애플리케이션 개발과의 차이점

| 구분              | 브라우저 개발                        | 일반 애플리케이션 개발        |
| ----------------- | ------------------------------------ | ----------------------------- |
| **업데이트 주기** | 실시간/즉시 (보안 패치)              | 계획된 릴리스 주기            |
| **사용자 중단**   | 중단 불가 (24/7 사용)                | 유지보수 시간 활용 가능       |
| **호환성 요구**   | 모든 웹사이트와 호환 필수            | 제한된 환경/API 대응          |
| **보안 노출**     | 인터넷 전체에 노출                   | 제한된 네트워크 환경          |
| **성능 기준**     | 밀리초 단위 최적화                   | 합리적 수준의 성능            |
| **표준 준수**     | 국제 웹 표준 필수 준수               | 내부 표준 또는 선택적         |
| **오류 허용도**   | 거의 0% (크래시 시 인터넷 사용 불가) | 상대적으로 관대함             |
| **코드 수명**     | 수십 년간 하위 호환성 유지           | 버전업 시 기존 코드 폐기 가능 |

> 공개되어 있는 오픈 소스임에도 브라우저 코드를 살펴볼 생각은 하지못한 스스로를 반성

## 브라우저 코드 개념

- HTML과 CSS는 무엇을 달성해야 하는지를 설명하는 선언적 API이며 API를 구현하는 건 브라우저의 역할
- 제어의 역전, 제약 프로그래밍, 선언형 프로그래밍
  - 웹 개발자가 브라우저로 렌더링에 필요한 매개변수와 콘텐츠를 전달하면 제어를 역전해 렌더링 처리
  - 직접적인 위치보다는 상대적인 크기와 위치 같은 제약 조건의 형태로 주어진다(ex. 웹페이지의 레이아웃)
  - 이벤트 처리

### HTML, CSS는 DSL(Domain-Specific Language)인가?

HTML과 CSS는 웹 개발 도메인에 특화된 전문 언어(DSL)이다.

**HTML - 문서 구조 DSL**

- **도메인**: 문서 구조와 의미(semantic) 마크업
- **특화된 목적**: 콘텐츠의 계층구조와 의미를 표현
- **선언적 특성**: "무엇을"(제목, 단락, 링크) 표현할지 선언

**CSS - 스타일링 DSL**

- **도메인**: 시각적 프레젠테이션과 레이아웃
- **특화된 목적**: 색상, 크기, 위치, 애니메이션 등 스타일 정의
- **제약 기반**: Flexbox, Grid 등의 레이아웃 제약 조건

| 특성          | HTML/CSS (DSL)     | JavaScript (범용)     |
| ------------- | ------------------ | --------------------- |
| **표현력**    | 특정 도메인에 특화 | 모든 계산 가능한 작업 |
| **문법**      | 선언적, 직관적     | 명령형, 복잡한 로직   |
| **학습 곡선** | 상대적으로 낮음    | 높음                  |
| **확장성**    | 도메인 내에서만    | 무제한                |

> [!EXAMPLE] DSL의 장점
>
> **CSS로 Flexbox 중앙 정렬**:
>
> ```css
> .center {
>   display: flex;
>   justify-content: center;
>   align-items: center;
> }
> ```
>
> **JavaScript로 동일한 Flexbox 스타일 적용**:
>
> ```javascript
> // 각 스타일을 개별적으로 설정해야 함
> element.style.display = "flex";
> element.style.justifyContent = "center";
> element.style.alignItems = "center";
>
> // 또는 더 복잡한 방식으로
> element.style.cssText = "display: flex; justify-content: center; align-items: center;";
> ```
>
> CSS는 스타일링 도메인에 최적화되어 간결하고 직관적이지만, JavaScript로는 더 장황하고 복잡

## 브라우저의 역할

- 웹은 과거 문서 공유의 목적에서 프로그래시브 웹앱, 웹뷰 등으로 발전

## 메멕스

- 웹의 핵심은 메멕스와 비슷(인간이 효율적으로 배우고 탐색하는 방법을 제공하고, 정보를 표현하고 나타내는 것)
- 메멕스는 1945년 바네바 부시(Vannevar Bush)가 제안한 개념적 장치로, **현대 웹의 사상적 기원**입니다.

**메멕스의 핵심 개념**

- **연상적 연결**: 인간의 사고 방식처럼 정보들을 연상을 통해 연결
- **개인 지식 관리**: 개인이 읽고 경험한 모든 정보를 저장하고 검색
- **연결의 흔적(Trail)**: 사용자가 만든 연결을 저장하고 공유

**웹과의 연관성**

- **메멕스의 "Trail"** → **웹의 하이퍼링크**
- 정보 간의 연상적 연결, 비선형적 정보 탐색, 사용자 중심의 정보 구조화
- 팀 버너스리가 메멕스에서 하이퍼링크 개념을 착안

**현대적 구현 사례**

- **위키피디아**: 메멕스의 집단 지성 버전
- **개인 노트 앱**: Obsidian, Roam Research 등
- **웹 브라우징**: 북마크, 히스토리, 링크 따라가기

## 웹의 등장

- 웹의 탈중앙적 특성
  - 누구나 웹페이지를 만들고 게시할 수 있다.
  - 사이트 간 호환성과 하이퍼링크는 네트워크 효과를 만든다
  - 표준 단체를 통해 유지되기 때문에 독점적 통제와 조작의 문제에서 자유롭다.

## 웹 표준

- 표준 단체의 등장으로 HTML 요소나 API 도입 시 합의 과정을 거쳐 표준 사양으로 문서화
- HTML - WHATWG
- CSS -W3C
- JS - TC39
- 웹 페이지가 대부분의 브라우저에서 잘 작동하는지 확인해야 했기에 독점적인 확장이 방지(크로스 브라우징ㅠㅠ)

## 오픈 소스

- 오픈 소스로 되어 있는 모든 주요 브라우저가 표준화 프로세스에 피드백을 제공하면 웹의 탈중화적 특징을 강화

## 연습문제

### P-1 그 다음은?

생각보다 어려우면서 흥미로운 주제인 듯 하다. 당장 떠오르는 것은 당연 AI다. 가볍게는 RAG 같은 걸로 브라우저의 개인화된 데이터를 기반으로 뭔가를 해줄 수 있지 않을까?
이걸 웹의 발전 또는 브라우저의 발전으로 봐야할까? 익스텐션 개발이고 익스텐션의 지원 방향을 넓히는게 브라우저의 발전인가? 각 웹페이지 내에서의 발전인가?
명확한 구분이 되지 않는다. 웹페이지와 독립적으로 브라우저가 가져갈 수 있는 발전 방향은 무엇일까?
mcp느낌처럼 각 사이트에서 특정 기능을 브라우저로 위임 시킬 수도 있으려나? 그럼 사이트의 비지니스적 가치는 괜찮은가?

Arc나 Vivaldi 같은 브라우저들을 보면 결국 내장 익스텐션? 지원으로 사용자에게 편의를 가져다주는 방향성인 것 같은데 사용 안해봐서 잘모르겠다.
웹 표준의 미래와 실제 브라우저의 미래의 갭이 크지 않을까? 차별화 포인트를 가진 개성있는 브라우저들이 다수 생기고 유저들의 파편화?

### p-2 초기의 아이디어와 어떻게 다를까?

메멕스가 뭔지 잘 와닿지 않는다. LLM과 놀아봤을 때는 개인화된 나무위키 같은 느낌?
그렇게 생각했을 때는 보안이나 사이트 유입적인 측면? 이 다르지 않을까 싶긴하지만 저자의 의도가 이게 아닌 것 같은 느낌이 든다ㅋㅋ
메멕스가 완전한 개인의 사고 확장의 개념이라면 웹은 네트워크를 통한 정보 공유 느낌이지 않을까?
그러면서도 점점 개인화가 중요시 되는 걸 보면 메멕스의 장점을 살려오는 것 같기도?
